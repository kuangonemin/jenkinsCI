<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
	<title>Intro to graphics - 4.10</title>

	<link rel="stylesheet" href="https://js.arcgis.com/4.9/esri/css/main.css">
	<script src="https://js.arcgis.com/4.9/"></script>
##	导入本地部署的api
##	<link rel="stylesheet" href="http://192.168.10.144:8080/arcgis_js_api/library/4.10/esri/css/main.css">
##	<script src="http://192.168.10.144:8080/arcgis_js_api/library/4.10/init.js"></script>
	<script src="http://192.168.10.101:8080/arcGis/resources/jquery-1.9.1.min.js"></script>

	<style>
		html,
		body,
		#viewDiv {
			padding: 0;
			margin: 0;
			height: 100%;
			width: 100%;
		}
	</style>

	<script>
	</script>
	<script>
		require([
			"esri/WebMap",
			"esri/views/MapView",
			"esri/Graphic",
			"esri/geometry/Polyline",
			"esri/layers/FeatureLayer",
			"esri/symbols/SimpleFillSymbol",
			"esri/layers/GraphicsLayer",
			"esri/Color",
			"esri/WebScene",
			"esri/views/SceneView",
			"esri/tasks/support/Query"
		], function(
				WebMap, MapView, Graphic,Polyline,FeatureLayer,
				Color,GraphicsLayer,SceneView,WebScene,Query
		) {

			var graphicsLayer = new GraphicsLayer({
				outFields: ["*"],
			});

			var map = new WebMap({
				portalItem: {
					id: "a0c3884daaf74842823d4a7328662157"
				},
				layers:[graphicsLayer]
			});

			var view = new MapView({
				//center: [-80, 35],
				container: "viewDiv",
				map: map,
				zoom: 12,
			});
			//map.add(graphicsLayer);

			//设置点的样式
			var image = {
				type: 'picture-marker',
				//url: 'https://static.arcgis.com/images/Symbols/Shapes/BlackStarLargeB.png',
				//url:'http://192.168.10.158:8080/file/2932ab53-297e-4bbc-a03f-f15665334cd6.jpg',
				url: 'http://192.168.10.101:8080/arcGis/resources/images/5.gif',
				width: '25px', //设置图片标注的宽
				height: '25px', //设置图片编著的高
			};
			//设置点的位置
			var position = {
				type: 'point',
				longitude: 109.509,
				latitude: 18.258,
			};

			var lineAtt = {
				riverCode: "H001",
				河道名称: "三亚河1",
				河道起点: "马家村",
				河道终点: "牛家村",
				河道长度: "1km",
				整治目标: "整治污水",
				所属区域: "地球村",
				河长名称: "马大富",
				河长职位: "村委书记",
				河长联系电话: "123456987"
			};

			var pointGraphic = new Graphic({
				geometry: position,
				symbol: image,
				attributes: lineAtt,
				popupTemplate: { // autocasts as new PopupTemplate()
				title: "{河道名称}",
						content: [{
					type: "fields",
					fieldInfos: [{
						fieldName: "河道名称"
					}, {
						fieldName: "河道起点"
					}, {
						fieldName: "河道终点"
					}, {
						fieldName: "河道长度"
					}, {
						fieldName: "整治目标"
					}, {
						fieldName: "所属区域"
					}, {
						fieldName: "河长名称"
					}, {
						fieldName: "河长职位"
					}, {
						fieldName: "河长联系电话"
					}]
				}]
			}
			});
			graphicsLayer.add(pointGraphic);
		});
	</script>
</head>

<body>
<div id="viewDiv"></div>
<div id="info">
	<span id="name"></span>
	<br>
	<span id="category"></span>
	<br>
	<span id="wind"></span>
</div>
</body>
</html>